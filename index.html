<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ù–∞—à —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π ‚Äî –¥–µ–ª–∏–º—Å—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <style>
    body {
      background: linear-gradient(135deg, #f9d5d3 0%, #fcefee 100%);
      min-height: 100vh;
    }
    /* –ù–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è —Ö–µ–¥–µ—Ä–∞ —Å –±–µ–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º */
    .header-gradient {
      background: linear-gradient(135deg, #f7a1a1 0%, #fbc4c4 100%);
      color: white;
    }
    .card-hover {
      transition: all 0.3s ease;
      position: relative;
      padding-top: 2.5rem; /* —á—Ç–æ–±—ã –±—ã–ª–æ –º–µ—Å—Ç–æ –¥–ª—è –¥–∞—Ç—ã –∏ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è */
    }
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .image-preview {
      max-width: 200px;
      max-height: 200px;
      object-fit: cover;
      border-radius: 8px;
    }
    /* –°—Ç–∏–ª–∏ –¥–ª—è SVG –ø–æ–¥–∞—Ä–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –±–µ–∑ —Ñ–æ—Ç–æ */
    .gift-svg-container {
      width: 100%;
      height: 192px; /* –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—ã—Å–æ—Ç–∞ —Ñ–æ—Ç–æ */
      display: flex;
      justify-content: center;
      align-items: center;
      color: #d97706; /* —Ç–µ–ø–ª—ã–π –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π —Ü–≤–µ—Ç */
      opacity: 0.4;
      margin-bottom: 0.75rem;
    }
    /* –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è */
    .delete-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background-color: #f87171; /* –∫—Ä–∞—Å–Ω—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ */
      color: white;
      border: none;
      border-radius: 0.375rem; /* rounded-md */
      padding: 0.25rem 0.5rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.2s ease;
      font-size: 0.875rem;
      line-height: 1.25rem;
      z-index: 10;
    }
    .delete-btn:hover {
      background-color: #ef4444;
    }
    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–∞—Ç—ã */
    .wish-date {
      position: absolute;
      top: 0.5rem;
      left: 0.75rem;
      font-size: 0.875rem;
      color: #6b7280; /* gray-500 */
      font-weight: 500;
      user-select: none;
      z-index: 10;
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- –•–µ–¥–µ—Ä -->
  <header class="header-gradient">
    <div class="container mx-auto px-4 py-8">
      <div class="text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">üéÅ –ù–∞—à —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π</h1>
        <p class="text-xl opacity-90">
          –î–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏ –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ
          –ø–æ–¥–∞—Ä–∫–æ–≤
        </p>
      </div>
    </div>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="container mx-auto px-4 py-8">
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–∂–µ–ª–∞–Ω–∏—è -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8 card-hover">
      <h2 class="text-2xl font-semibold mb-6 text-gray-800">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∂–µ–ª–∞–Ω–∏–µ</h2>
      <form id="wishForm" class="space-y-4" novalidate>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</label
          >
          <input
            type="text"
            id="wishTitle"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
            placeholder="–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏—Ç—å?"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label
          >
          <input
            type="url"
            id="wishLink"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
            placeholder="https://example.com/—Å—Å—ã–ª–∫–∞-–Ω–∞-–ø–æ–¥–∞—Ä–æ–∫"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–ü–æ–≤–æ–¥</label
          >
          <select
            id="wishOccasion"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
          >
            <option value="birthday">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</option>
            <option value="christmas">–ù–æ–≤—ã–π –≥–æ–¥ / –†–æ–∂–¥–µ—Å—Ç–≤–æ</option>
            <option value="anniversary">–ì–æ–¥–æ–≤—â–∏–Ω–∞</option>
            <option value="valentines">–î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞</option>
            <option value="other">–î—Ä—É–≥–æ–π</option>
          </select>
        </div>

        <!-- –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –¥–∞—Ç—ã, —Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
        <div id="customDateContainer" class="hidden">
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</label
          >
          <input
            type="date"
            id="customDate"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–î–ª—è –∫–æ–≥–æ</label
          >
          <select
            id="wishFor"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
          >
            <option value="him">–ï–º—É</option>
            <option value="her">–ï–π</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >–§–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label
          >
          <input
            type="file"
            id="wishPhoto"
            accept="image/*"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"
          />
          <div id="imagePreview" class="mt-3 hidden">
            <img
              src=""
              alt="–ü—Ä–µ–≤—å—é –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
              class="image-preview border rounded-lg"
            />
          </div>
        </div>

        <button
          type="submit"
          class="w-full bg-pink-600 text-white py-3 px-6 rounded-lg hover:bg-pink-700 transition duration-200 font-semibold"
        >
          <i class="fas fa-plus mr-2"></i>–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π
        </button>
      </form>
    </div>

    <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–∂–µ–ª–∞–Ω–∏–π -->
    <div class="mb-12">
      <h2 class="text-2xl font-semibold mb-6 text-gray-800">–ü–æ–∂–µ–ª–∞–Ω–∏—è –¥–ª—è –Ω–µ–≥–æ</h2>
      <div
        id="wishlistForHim"
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
      >
        <div class="text-center py-12 text-gray-500" id="emptyStateHim">
          <i class="fas fa-gift text-4xl mb-4"></i>
          <p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π –¥–ª—è –Ω–µ–≥–æ.</p>
        </div>
      </div>
    </div>

    <div>
      <h2 class="text-2xl font-semibold mb-6 text-gray-800">–ü–æ–∂–µ–ª–∞–Ω–∏—è –¥–ª—è –Ω–µ—ë</h2>
      <div
        id="wishlistForHer"
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
      >
        <div class="text-center py-12 text-gray-500" id="emptyStateHer">
          <i class="fas fa-gift text-4xl mb-4"></i>
          <p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π –¥–ª—è –Ω–µ—ë.</p>
        </div>
      </div>
    </div>
  </main>

  <!-- –§—É—Ç–µ—Ä -->
  <footer class="bg-gray-800 text-white py-8 mt-12">
    <div class="container mx-auto px-4 text-center">
      <p>–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –æ—Å–æ–±–µ–Ω–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–µ</p>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const photoInput = document.getElementById("wishPhoto");
      const imagePreview = document.getElementById("imagePreview");
      const previewImg = imagePreview.querySelector("img");

      photoInput.addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            previewImg.src = e.target.result;
            imagePreview.classList.remove("hidden");
          };
          reader.readAsDataURL(file);
        }
      });

      const occasionSelect = document.getElementById("wishOccasion");
      const customDateContainer = document.getElementById("customDateContainer");
      const customDateInput = document.getElementById("customDate");

      occasionSelect.addEventListener("change", function () {
        if (occasionSelect.value === "other") {
          customDateContainer.classList.remove("hidden");
          customDateInput.required = true;
        } else {
          customDateContainer.classList.add("hidden");
          customDateInput.required = false;
          customDateInput.value = "";
        }
      });

      const wishlistForHim = document.getElementById("wishlistForHim");
      const wishlistForHer = document.getElementById("wishlistForHer");
      const emptyStateHim = document.getElementById("emptyStateHim");
      const emptyStateHer = document.getElementById("emptyStateHer");

      const wishForm = document.getElementById("wishForm");

      wishForm.addEventListener("submit", function (e) {
        e.preventDefault();

        let displayDate = new Date().toLocaleDateString();
        if (occasionSelect.value === "other" && customDateInput.value) {
          const selectedDate = new Date(customDateInput.value);
          displayDate = selectedDate.toLocaleDateString();
        }

        const wish = {
          id: Date.now().toString(),
          title: document.getElementById("wishTitle").value,
          link: document.getElementById("wishLink").value,
          occasion: occasionSelect.value,
          photo: previewImg.src !== "" ? previewImg.src : null,
          timestamp: displayDate,
          forWhom: document.getElementById("wishFor").value,
        };

        addWishToDOM(wish);
        saveWishToStorage(wish);

        wishForm.reset();
        imagePreview.classList.add("hidden");
        previewImg.src = "";
        customDateContainer.classList.add("hidden");
        customDateInput.required = false;
      });

      function addWishToDOM(wish) {
        if (wish.forWhom === "him") {
          emptyStateHim.style.display = "none";
        } else {
          emptyStateHer.style.display = "none";
        }

        const occasionIcons = {
          birthday: "üéÇ",
          christmas: "üéÑ",
          anniversary: "üíù",
          valentines: "‚ù§Ô∏è",
          other: "üéÅ",
        };

        const wishCard = document.createElement("div");
        wishCard.className = "bg-white rounded-xl shadow-lg p-6 card-hover fade-in";
        wishCard.dataset.id = wish.id;

        let photoHtml = "";
        if (wish.photo) {
          photoHtml = `<img src="${wish.photo}" alt="–í–∏–∑—É–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è" class="w-full h-48 object-cover rounded-lg mb-3">`;
        } else {
          photoHtml = `
            <div class="gift-svg-container" aria-label="–ü–æ–¥–∞—Ä–æ–∫">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="96" height="96" aria-hidden="true">
                <path d="M20 12v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-7H1v-2h2V7a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v3h2V7a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v3h2v2h-3zM9 7H7a1 1 0 0 0-1 1v2h3V7zm6 0h-2v3h3V8a1 1 0 0 0-1-1zm-6 8v-3H6v3h3zm6 0h-3v-3h3v3z"/>
              </svg>
            </div>
          `;
        }

        wishCard.innerHTML = `
          <div class="wish-date">${wish.timestamp}</div>
          <button class="delete-btn" title="–£–¥–∞–ª–∏—Ç—å –ø–æ–∂–µ–ª–∞–Ω–∏–µ" aria-label="–£–¥–∞–ª–∏—Ç—å –ø–æ–∂–µ–ª–∞–Ω–∏–µ">&times;</button>
          <div class="flex items-start justify-between mb-4">
            <span class="text-2xl">${occasionIcons[wish.occasion]}</span>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-3">${wish.title}</h3>
          ${photoHtml}
          ${
            wish.link
              ? `<a href="${wish.link}" target="_blank" rel="noopener noreferrer" class="text-pink-600 hover:text-pink-800 flex items-center">
                  <i class="fas fa-link mr-2"></i>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥–∞—Ä–æ–∫
                </a>`
              : ""
          }
        `;

        const deleteBtn = wishCard.querySelector(".delete-btn");
        deleteBtn.addEventListener("click", () => {
          removeWish(wish.id, wish.forWhom, wishCard);
        });

        if (wish.forWhom === "him") {
          wishlistForHim.appendChild(wishCard);
        } else {
          wishlistForHer.appendChild(wishCard);
        }
      }

      function saveWishToStorage(wish) {
        let wishes = JSON.parse(localStorage.getItem("giftWishes")) || [];
        wishes.push(wish);
        localStorage.setItem("giftWishes", JSON.stringify(wishes));
      }

      function removeWish(id, forWhom, wishCard) {
        let wishes = JSON.parse(localStorage.getItem("giftWishes")) || [];
        wishes = wishes.filter((w) => w.id !== id);
        localStorage.setItem("giftWishes", JSON.stringify(wishes));

        wishCard.remove();

        const container = forWhom === "him" ? wishlistForHim : wishlistForHer;
        const cards = container.querySelectorAll(".card-hover");
        if (cards.length === 0) {
          if (forWhom === "him") {
            emptyStateHim.style.display = "block";
          } else {
            emptyStateHer.style.display = "block";
          }
        }
      }

      function loadWishes() {
        const wishes = JSON.parse(localStorage.getItem("giftWishes")) || [];
        if (wishes.length > 0) {
          emptyStateHim.style.display = "none";
          emptyStateHer.style.display = "none";

          wishes.forEach((wish) => addWishToDOM(wish));
        }
      }

      loadWishes();
    });
  </script>
</body>
</html>
